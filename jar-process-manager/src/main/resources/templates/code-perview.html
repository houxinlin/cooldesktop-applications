<!DOCTYPE html>
<html lang="en">
<head>
    <base href="/desktop/webapplication/100005/static/">
    <meta charset="UTF-8">
    <link rel="stylesheet" data-name="vs/editor/editor.main" href="vs/editor/editor.main.css"/>
    <link rel="stylesheet" href="index.css">
    <script src="echarts.min.js"></script>
    <script src="vs/loader.js"></script>
    <script src="vs/editor/editor.main.nls.js"></script>
    <script src="vs/editor/editor.main.js"></script>

    <style>
        #javaCodeContainer {
            position: fixed;
            left: 0px;
            top: 0px;
            bottom: 0px;
            right: 0px;
        }
    </style>
</head>
<body>
<span style="display: none" id="code" th:text="${code}"></span>
<div id="javaCodeContainer">

</div>
<script>
    let codeEditor = monaco.editor.create(document.getElementById('javaCodeContainer'), {
        value: document.getElementById("code").innerHTML,
        language: "java",
        lineNumbers: 'on',
        roundedSelection: false,
        scrollBeyondLastLine: false,
        readOnly: true,
        theme: 'vs-dark'
    })
    window.addEventListener("message", receiveMessage, true);
    function receiveMessage(event) {
        if (event.data['eventName'] === "windowEvent" && event.data["detailName"] === "sizeChange") {
            codeEditor.layout()
        }
    }
</script>
</body>
</html>